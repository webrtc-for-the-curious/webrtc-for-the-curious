<!doctype html><html lang=ko dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='디버깅 # WebRTC 디버깅은 만만치 않습니다. 구성요소가 많고, 각자 독립적으로 실패할 수 있습니다. 잘못된 부분을 오래 들여다보느라 시간을 낭비하기 쉽습니다. 이 장은 문제를 분해하고, 인기 있는 도구로 진단하는 방법을 안내합니다.
문제를 격리하라 # 어디에서 문제가 비롯되는지 초기에 구분하세요.
시그널링 실패 # 시그널링 채널이 연결되고, SDP/ICE 후보가 정상적으로 교환되는지부터 확인합니다.
네트워킹 실패 # STUN 서버를 netcat으로 점검할 수 있습니다.
20바이트 바인딩 요청 패킷 준비 echo -ne "\x00\x01\x00\x00\x21\x12\xA4\x42TESTTESTTEST" | hexdump -C 요청 전송 후 32바이트 응답 확인 stunserver=stun1.'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://webrtcforthecurious.com/ko/docs/09-debugging/"><meta property="og:site_name" content="호기심 많은 이를 위한 WebRTC"><meta property="og:title" content="디버깅"><meta property="og:description" content='디버깅 # WebRTC 디버깅은 만만치 않습니다. 구성요소가 많고, 각자 독립적으로 실패할 수 있습니다. 잘못된 부분을 오래 들여다보느라 시간을 낭비하기 쉽습니다. 이 장은 문제를 분해하고, 인기 있는 도구로 진단하는 방법을 안내합니다.
문제를 격리하라 # 어디에서 문제가 비롯되는지 초기에 구분하세요.
시그널링 실패 # 시그널링 채널이 연결되고, SDP/ICE 후보가 정상적으로 교환되는지부터 확인합니다.
네트워킹 실패 # STUN 서버를 netcat으로 점검할 수 있습니다.
20바이트 바인딩 요청 패킷 준비 echo -ne "\x00\x01\x00\x00\x21\x12\xA4\x42TESTTESTTEST" | hexdump -C 요청 전송 후 32바이트 응답 확인 stunserver=stun1.'><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2025-09-05T05:58:35+09:00"><title>디버깅 | 호기심 많은 이를 위한 WebRTC</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=canonical href=https://webrtcforthecurious.com/ko/docs/09-debugging/><link rel=alternate hreflang=en href=https://webrtcforthecurious.com/docs/09-debugging/ title=Debugging><link rel=alternate hreflang=sv href=https://webrtcforthecurious.com/sv/docs/09-debugging/ title=Felsökning><link rel=alternate hreflang=ru href=https://webrtcforthecurious.com/ru/docs/09-debugging/ title=Отладка><link rel=alternate hreflang=zh href=https://webrtcforthecurious.com/zh/docs/09-debugging/ title=调试><link rel=alternate hreflang=ja href=https://webrtcforthecurious.com/ja/docs/09-debugging/ title=デバッグ><link rel=alternate hreflang=fa href=https://webrtcforthecurious.com/fa/docs/09-debugging/ title="اشکال زدایی"><link rel=alternate hreflang=fr href=https://webrtcforthecurious.com/fr/docs/09-debugging/ title=Debugging><link rel=alternate hreflang=id href=https://webrtcforthecurious.com/id/docs/09-debugging/ title=Debugging><link rel=alternate hreflang=es href=https://webrtcforthecurious.com/es/docs/09-debugging/ title=Depuración><link rel=alternate hreflang=tr href=https://webrtcforthecurious.com/tr/docs/09-debugging/ title="Hata Ayıklama"><link rel=stylesheet href=/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/ko.search.min.ff0bd92bfe13d1c7aaf7e993114720b4672b5caaa2c71caa427a6de130de2755.js integrity="sha256-/wvZK/4T0ceq9+mTEUcgtGcrXKqixxyqQnpt4TDeJ1U=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/ko/><span>호기심 많은 이를 위한 WebRTC</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
한국어</a></label><ul><li><a href=https://webrtcforthecurious.com/docs/09-debugging/>English</a></li><li><a href=https://webrtcforthecurious.com/ru/docs/09-debugging/>Русский</a></li><li><a href=https://webrtcforthecurious.com/sv/docs/09-debugging/>Svenska</a></li><li><a href=https://webrtcforthecurious.com/zh/docs/09-debugging/>简体中文</a></li><li><a href=https://webrtcforthecurious.com/ja/docs/09-debugging/>日本語</a></li><li><a href=https://webrtcforthecurious.com/fa/docs/09-debugging/>Persian</a></li><li><a href=https://webrtcforthecurious.com/fr/docs/09-debugging/>Français</a></li><li><a href=https://webrtcforthecurious.com/id/docs/09-debugging/>Bahasa Indonesia</a></li><li><a href=https://webrtcforthecurious.com/es/docs/09-debugging/>Español</a></li><li><a href=https://webrtcforthecurious.com/tr/docs/09-debugging/>Türkçe</a></li></ul></li></ul><ul><li><a href=/ko/docs/01-what-why-and-how/>무엇, 왜, 어떻게?</a></li><li><a href=/ko/docs/02-signaling/>시그널링</a></li><li><a href=/ko/docs/03-connecting/>연결</a></li><li><a href=/ko/docs/04-securing/>보안</a></li><li><a href=/ko/docs/05-real-time-networking/>실시간 네트워킹</a></li><li><a href=/ko/docs/06-media-communication/>미디어 통신</a></li><li><a href=/ko/docs/07-data-communication/>데이터 통신</a></li><li><a href=/ko/docs/08-applied-webrtc/>적용 WebRTC</a></li><li><a href=/ko/docs/09-debugging/ class=active>디버깅</a></li><li><a href=/ko/docs/10-history-of-webrtc/>역사</a></li><li><a href=/ko/docs/11-faq/>자주 묻는 질문(FAQ)</a></li><li><a href=/ko/docs/12-glossary/>용어집</a></li><li><a href=/ko/docs/13-reference/>참고 자료</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>디버깅</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#문제를-격리하라>문제를 격리하라</a><ul><li><a href=#시그널링-실패>시그널링 실패</a></li><li><a href=#네트워킹-실패>네트워킹 실패</a></li><li><a href=#보안-실패>보안 실패</a></li><li><a href=#미디어-실패>미디어 실패</a></li><li><a href=#데이터-실패>데이터 실패</a></li></ul></li><li><a href=#흔히-쓰는-도구>흔히 쓰는 도구</a><ul><li><a href=#netcat-nc>netcat (nc)</a></li><li><a href=#tcpdump>tcpdump</a></li><li><a href=#wireshark>Wireshark</a></li><li><a href=#webrtc-internals>webrtc-internals</a></li></ul></li><li><a href=#지연-측정>지연 측정</a><ul><li><a href=#diy-측정수동>DIY 측정(수동)</a></li><li><a href=#자동-측정호환-방식>자동 측정(호환 방식)</a></li><li><a href=#브라우저에서-실제-비디오-시간>브라우저에서 실제 비디오 시간</a></li><li><a href=#지연-디버깅-팁>지연 디버깅 팁</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=디버깅>디버깅
<a class=anchor href=#%eb%94%94%eb%b2%84%ea%b9%85>#</a></h1><p>WebRTC 디버깅은 만만치 않습니다. 구성요소가 많고, 각자 독립적으로 실패할 수 있습니다. 잘못된 부분을 오래 들여다보느라 시간을 낭비하기 쉽습니다.
이 장은 문제를 분해하고, 인기 있는 도구로 진단하는 방법을 안내합니다.</p><h2 id=문제를-격리하라>문제를 격리하라
<a class=anchor href=#%eb%ac%b8%ec%a0%9c%eb%a5%bc-%ea%b2%a9%eb%a6%ac%ed%95%98%eb%9d%bc>#</a></h2><p>어디에서 문제가 비롯되는지 초기에 구분하세요.</p><h3 id=시그널링-실패>시그널링 실패
<a class=anchor href=#%ec%8b%9c%ea%b7%b8%eb%84%90%eb%a7%81-%ec%8b%a4%ed%8c%a8>#</a></h3><p>시그널링 채널이 연결되고, SDP/ICE 후보가 정상적으로 교환되는지부터 확인합니다.</p><h3 id=네트워킹-실패>네트워킹 실패
<a class=anchor href=#%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%82%b9-%ec%8b%a4%ed%8c%a8>#</a></h3><p>STUN 서버를 <code>netcat</code>으로 점검할 수 있습니다.</p><ol><li>20바이트 바인딩 요청 패킷 준비</li></ol><pre tabindex=0><code>echo -ne &#34;\x00\x01\x00\x00\x21\x12\xA4\x42TESTTESTTEST&#34; | hexdump -C
</code></pre><ol start=2><li>요청 전송 후 32바이트 응답 확인</li></ol><pre tabindex=0><code>stunserver=stun1.l.google.com;stunport=19302;listenport=20000;echo -ne &#34;\x00\x01\x00\x00\x21\x12\xA4\x42TESTTESTTEST&#34; | nc -u -p $listenport $stunserver $stunport -w 1 | hexdump -C
</code></pre><p>XOR 계산을 단순화하려면 매직 쿠키를 0으로 둔 더미 요청을 보낼 수 있습니다.</p><pre tabindex=0><code>stunserver=stun1.l.google.com;stunport=19302;listenport=20000;echo -ne &#34;\x00\x01\x00\x00\x00\x00\x00\x00TESTTESTTEST&#34; | nc -u -p $listenport $stunserver $stunport -w 1 | hexdump -C
</code></pre><h3 id=보안-실패>보안 실패
<a class=anchor href=#%eb%b3%b4%ec%95%88-%ec%8b%a4%ed%8c%a8>#</a></h3><p>DTLS 핸드셰이크가 완료되는지, 인증서 지문이 SDP와 일치하는지 확인합니다.</p><h3 id=미디어-실패>미디어 실패
<a class=anchor href=#%eb%af%b8%eb%94%94%ec%96%b4-%ec%8b%a4%ed%8c%a8>#</a></h3><p>코덱/포맷 호환, 카메라/마이크 권한, 트랙 추가 상태(<code>addTrack</code>)와 수신(<code>ontrack</code>) 발생 여부를 확인합니다.</p><h3 id=데이터-실패>데이터 실패
<a class=anchor href=#%eb%8d%b0%ec%9d%b4%ed%84%b0-%ec%8b%a4%ed%8c%a8>#</a></h3><p>데이터 채널 오픈(DCEP 교환)과 메시지 송수신, 백프레셔/버퍼 상태를 점검합니다.</p><h2 id=흔히-쓰는-도구>흔히 쓰는 도구
<a class=anchor href=#%ed%9d%94%ed%9e%88-%ec%93%b0%eb%8a%94-%eb%8f%84%ea%b5%ac>#</a></h2><h3 id=netcat-nc>netcat (nc)
<a class=anchor href=#netcat-nc>#</a></h3><p>TCP/UDP 연결로 송수신을 수행하는 네트워크 유틸리티입니다.</p><h3 id=tcpdump>tcpdump
<a class=anchor href=#tcpdump>#</a></h3><p>패킷 캡처/헥사덤프 도구입니다.</p><ul><li>UDP 19302 포트 캡처: <code>sudo tcpdump 'udp port 19302' -xx</code></li><li>PCAP 저장: <code>sudo tcpdump 'udp port 19302' -w stun.pcap</code> (Wireshark로 열기)</li></ul><h3 id=wireshark>Wireshark
<a class=anchor href=#wireshark>#</a></h3><p>GUI 기반의 강력한 패킷 분석기입니다.</p><h3 id=webrtc-internals>webrtc-internals
<a class=anchor href=#webrtc-internals>#</a></h3><p>Chrome의 통계 페이지: <code>chrome://webrtc-internals</code></p><h2 id=지연-측정>지연 측정
<a class=anchor href=#%ec%a7%80%ec%97%b0-%ec%b8%a1%ec%a0%95>#</a></h2><p>지연을 줄이려면 먼저 정확히 측정해야 합니다. 이상적인 방법은 종단 간 지연을 측정하는 것입니다(카메라 캡처, 인코딩, 전송, 수신, 디코딩, 디스플레이, 큐잉 포함).</p><h3 id=diy-측정수동>DIY 측정(수동)
<a class=anchor href=#diy-%ec%b8%a1%ec%a0%95%ec%88%98%eb%8f%99>#</a></h3><ul><li>카메라를 밀리초 단위 시계를 향하게 합니다.</li><li>같은 장소의 수신기로 영상을 보냅니다.</li><li>휴대폰으로 시계와 수신 화면을 동시에 찍습니다.</li><li>두 시각의 차이를 구합니다.</li></ul><p><img src=../images/09-diy-latency.png alt="DIY Latency" title="DIY Latency Measurement">.
<img src=../images/09-diy-latency-happen-observe.png alt="DIY Latency Example" title="DIY Latency Measurement Example"></p><h3 id=자동-측정호환-방식>자동 측정(호환 방식)
<a class=anchor href=#%ec%9e%90%eb%8f%99-%ec%b8%a1%ec%a0%95%ed%98%b8%ed%99%98-%eb%b0%a9%ec%8b%9d>#</a></h3><p>NTP 스타일로 DataChannel을 이용해 송신자/수신자 단조 시계를 동기화하고, 비디오 트랙 시간과 대조해 지연을 추정합니다.</p><p><img src=../images/09-ntp-latency.png alt="NTP Style Latency Measurement" title="NTP Style Latency Measurement"></p><p>핵심 개념:</p><pre tabindex=0><code>expected_video_time = tSV1 + time_since(tSV1)
latency = expected_video_time - actual_video_time
</code></pre><p>샘플 메시지 포맷(송신자 응답):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;received_time&#34;</span>: <span style=color:#ae81ff>64714</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;delay_since_received&#34;</span>: <span style=color:#ae81ff>46</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;local_clock&#34;</span>: <span style=color:#ae81ff>1597366470336</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;track_times_msec&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;myvideo_track1&#34;</span>: [<span style=color:#ae81ff>13100</span>, <span style=color:#ae81ff>1597366470289</span>]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>수신기에서 데이터채널 열기:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>dataChannel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>peerConnection</span>.<span style=color:#a6e22e>createDataChannel</span>(<span style=color:#e6db74>&#39;latency&#39;</span>);
</span></span></code></pre></div><p>주기적으로 수신기 시간 전송:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>setInterval</span>(() =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tR1</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>trunc</span>(<span style=color:#a6e22e>performance</span>.<span style=color:#a6e22e>now</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dataChannel</span>.<span style=color:#a6e22e>send</span>(String(<span style=color:#a6e22e>tR1</span>));
</span></span><span style=display:flex><span>}, <span style=color:#ae81ff>2000</span>);
</span></span></code></pre></div><p>송신기 처리 및 응답:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// event.data 예: &#34;1234567&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tR1</span> <span style=color:#f92672>=</span> Number(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>now</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>trunc</span>(<span style=color:#a6e22e>performance</span>.<span style=color:#a6e22e>now</span>());
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tSV1</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42000</span>; <span style=color:#75715e>// 현재 프레임 RTP 타임스탬프(ms)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tS1</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1597366470289</span>; <span style=color:#75715e>// 현재 프레임 단조 시계
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>msg</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>received_time</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>tR1</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>delay_since_received</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>local_clock</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>now</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>track_times_msec</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>myvideo_track1</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>tSV1</span>, <span style=color:#a6e22e>tS1</span>] }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#a6e22e>dataChannel</span>.<span style=color:#a6e22e>send</span>(<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>msg</span>));
</span></span></code></pre></div><p>수신기에서 지연 추정:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tR2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>performance</span>.<span style=color:#a6e22e>now</span>();
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>fromSender</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tR1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fromSender</span>.<span style=color:#a6e22e>received_time</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>delay</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fromSender</span>.<span style=color:#a6e22e>delay_since_received</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>senderTimeFromResponse</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fromSender</span>.<span style=color:#a6e22e>local_clock</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rtt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tR2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>delay</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>tR1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>networkLatency</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rtt</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>senderTime</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>senderTimeFromResponse</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>delay</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>networkLatency</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>VIDEO</span>.<span style=color:#a6e22e>requestVideoFrameCallback</span>((<span style=color:#a6e22e>now</span>, <span style=color:#a6e22e>framemeta</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>senderTime</span> <span style=color:#f92672>+=</span> (<span style=color:#a6e22e>now</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>tR2</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> [<span style=color:#a6e22e>tSV1</span>, <span style=color:#a6e22e>tS1</span>] <span style=color:#f92672>=</span> Object.<span style=color:#a6e22e>entries</span>(<span style=color:#a6e22e>fromSender</span>.<span style=color:#a6e22e>track_times_msec</span>)[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>timeSinceLastKnownFrame</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>senderTime</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>tS1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>expectedVideoTimeMsec</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tSV1</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>timeSinceLastKnownFrame</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>actualVideoTimeMsec</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>trunc</span>(<span style=color:#a6e22e>framemeta</span>.<span style=color:#a6e22e>rtpTimestamp</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>90</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>latency</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>expectedVideoTimeMsec</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>actualVideoTimeMsec</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;latency&#39;</span>, <span style=color:#a6e22e>latency</span>, <span style=color:#e6db74>&#39;msec&#39;</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h3 id=브라우저에서-실제-비디오-시간>브라우저에서 실제 비디오 시간
<a class=anchor href=#%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80%ec%97%90%ec%84%9c-%ec%8b%a4%ec%a0%9c-%eb%b9%84%eb%94%94%ec%98%a4-%ec%8b%9c%ea%b0%84>#</a></h3><p><code>HTMLVideoElement.requestVideoFrameCallback()</code>으로 현재 표시된 비디오 프레임의 시간(및 WebRTC의 경우 <code>rtpTimestamp</code>)에 접근할 수 있습니다.</p><h3 id=지연-디버깅-팁>지연 디버깅 팁
<a class=anchor href=#%ec%a7%80%ec%97%b0-%eb%94%94%eb%b2%84%ea%b9%85-%ed%8c%81>#</a></h3><ul><li>설정을 단순화해 문제 재현 최소 구성을 만드세요.</li><li>카메라: 자동 노출/초점/화이트밸런스가 지연을 늘릴 수 있습니다(Linux: <code>v4l2-ctl</code>).</li><li>인코더: B-프레임/레퍼런스 프레임이 지연을 늘립니다(x264: <code>tune=zerolatency</code>, <code>profile=baseline</code> 권장).</li><li>네트워크: RTT는 지연의 하한입니다. NACK/PLI가 늘면 지연 증가 요인입니다(webrtc-internals의 <code>nackCount</code>, <code>pliCount</code> 확인).</li><li>수신측: 패킷 무질서/재조립 대기 시간이 지연을 늘립니다(<code>jitterBufferDelay</code> 확인).</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/commit/d197b9fa3dc748f7270405361db6750321c85ea8 title='Last modified by seonghoon.baek | 9월 4, 2025' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>9월 4, 2025</span></a></div><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/edit/master/content/docs/09-debugging.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#문제를-격리하라>문제를 격리하라</a><ul><li><a href=#시그널링-실패>시그널링 실패</a></li><li><a href=#네트워킹-실패>네트워킹 실패</a></li><li><a href=#보안-실패>보안 실패</a></li><li><a href=#미디어-실패>미디어 실패</a></li><li><a href=#데이터-실패>데이터 실패</a></li></ul></li><li><a href=#흔히-쓰는-도구>흔히 쓰는 도구</a><ul><li><a href=#netcat-nc>netcat (nc)</a></li><li><a href=#tcpdump>tcpdump</a></li><li><a href=#wireshark>Wireshark</a></li><li><a href=#webrtc-internals>webrtc-internals</a></li></ul></li><li><a href=#지연-측정>지연 측정</a><ul><li><a href=#diy-측정수동>DIY 측정(수동)</a></li><li><a href=#자동-측정호환-방식>자동 측정(호환 방식)</a></li><li><a href=#브라우저에서-실제-비디오-시간>브라우저에서 실제 비디오 시간</a></li><li><a href=#지연-디버깅-팁>지연 디버깅 팁</a></li></ul></li></ul></nav></div></aside></main></body></html>