<!doctype html><html lang=fa dir=rtl><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="چرا شبکه در ارتباطات بلادرنگ بسیار مهم است؟ # شبکه ها یکی از فاکتور های محدود کننده در ارتباطات بلادرنگ هستند. در دنیای ایده آل، پهنای باند نامحدودی خواهیم داشت و بسته ها فوراً می رسند. هرچند اینطور نیست شبکه ها محدود هستند و شرایط می تواند در هر زمان تغییر کند و اندازه گیری و مشاهده شرایط شبکه نیز در هر لحظه مشکل سختی است. شما می توانید رفتارهای مختلفی داشته باشید بسته به سخت افزار، نرم افزار و پیکربندی آن."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://webrtcforthecurious.com/fa/docs/05-real-time-networking/"><meta property="og:site_name" content="WebRTC برای کنجکاوها"><meta property="og:title" content="شبکه بی درنگ"><meta property="og:description" content="چرا شبکه در ارتباطات بلادرنگ بسیار مهم است؟ # شبکه ها یکی از فاکتور های محدود کننده در ارتباطات بلادرنگ هستند. در دنیای ایده آل، پهنای باند نامحدودی خواهیم داشت و بسته ها فوراً می رسند. هرچند اینطور نیست شبکه ها محدود هستند و شرایط می تواند در هر زمان تغییر کند و اندازه گیری و مشاهده شرایط شبکه نیز در هر لحظه مشکل سختی است. شما می توانید رفتارهای مختلفی داشته باشید بسته به سخت افزار، نرم افزار و پیکربندی آن."><meta property="og:locale" content="fa"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-03-11T09:06:03-05:00"><title>شبکه بی درنگ | WebRTC برای کنجکاوها</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=canonical href=https://webrtcforthecurious.com/fa/docs/05-real-time-networking/><link rel=alternate hreflang=en href=https://webrtcforthecurious.com/docs/05-real-time-networking/ title="Real-time Networking"><link rel=alternate hreflang=ru href=https://webrtcforthecurious.com/ru/docs/05-real-time-networking/ title="Real-time Networking"><link rel=alternate hreflang=sv href=https://webrtcforthecurious.com/sv/docs/05-real-time-networking/ title=Realtidsnätverk><link rel=alternate hreflang=zh href=https://webrtcforthecurious.com/zh/docs/05-real-time-networking/ title=搭建实时网络><link rel=alternate hreflang=ja href=https://webrtcforthecurious.com/ja/docs/05-real-time-networking/ title=リアルタイム・ネットワーキング><link rel=alternate hreflang=fr href=https://webrtcforthecurious.com/fr/docs/05-real-time-networking/ title="Real-time Networking"><link rel=alternate hreflang=id href=https://webrtcforthecurious.com/id/docs/05-real-time-networking/ title="Real-time Networking"><link rel=alternate hreflang=es href=https://webrtcforthecurious.com/es/docs/05-real-time-networking/ title="Real-time Networking"><link rel=alternate hreflang=tr href=https://webrtcforthecurious.com/tr/docs/05-real-time-networking/ title="Gerçek Zamanlı Ağ İletişimi"><link rel=alternate hreflang=ko href=https://webrtcforthecurious.com/ko/docs/05-real-time-networking/ title="실시간 네트워킹"><link rel=stylesheet href=/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/fa.search.min.8b42327044e674f28b539739f3740e92d53360646e8ec8ea1c5cd8a5df75f52f.js integrity="sha256-i0IycETmdPKLU5c583QOktUzYGRujsjqHFzYpd919S8=" crossorigin=anonymous></script></head><body dir=rtl><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/fa/><span>WebRTC برای کنجکاوها</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=جستجو aria-label=جستجو maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
Persian</a></label><ul><li><a href=https://webrtcforthecurious.com/docs/05-real-time-networking/>English</a></li><li><a href=https://webrtcforthecurious.com/ru/docs/05-real-time-networking/>Русский</a></li><li><a href=https://webrtcforthecurious.com/sv/docs/05-real-time-networking/>Svenska</a></li><li><a href=https://webrtcforthecurious.com/zh/docs/05-real-time-networking/>简体中文</a></li><li><a href=https://webrtcforthecurious.com/ja/docs/05-real-time-networking/>日本語</a></li><li><a href=https://webrtcforthecurious.com/fr/docs/05-real-time-networking/>Français</a></li><li><a href=https://webrtcforthecurious.com/id/docs/05-real-time-networking/>Bahasa Indonesia</a></li><li><a href=https://webrtcforthecurious.com/es/docs/05-real-time-networking/>Español</a></li><li><a href=https://webrtcforthecurious.com/tr/docs/05-real-time-networking/>Türkçe</a></li><li><a href=https://webrtcforthecurious.com/ko/docs/05-real-time-networking/>한국어</a></li></ul></li></ul><ul><li><a href=/fa/docs/01-what-why-and-how/>چه چیزی، چرا و چگونه</a></li><li><a href=/fa/docs/02-signaling/>سیگنالینگ</a></li><li><a href=/fa/docs/03-connecting/>اتصال</a></li><li><a href=/fa/docs/04-securing/>امنیت</a></li><li><a href=/fa/docs/05-real-time-networking/ class=active>شبکه بی درنگ</a></li><li><a href=/fa/docs/06-media-communication/>ارتباط رسانه ای</a></li><li><a href=/fa/docs/07-data-communication/>ارتباط داده ای</a></li><li><a href=/fa/docs/08-applied-webrtc/>اعمال کردن WebRTC</a></li><li><a href=/fa/docs/09-debugging/>اشکال زدایی</a></li><li><a href=/fa/docs/11-faq/>پرسش و پاسخ</a></li><li><a href=/fa/docs/12-glossary/>واژه نامه</a></li><li><a href=/fa/docs/13-reference/>Reference</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>شبکه بی درنگ</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#ویژگی-های-شبکه-چیست-که-آن-را-دشوار-می-کند>ویژگی های شبکه چیست که آن را دشوار می کند؟</a><ul><li></li><li><a href=#ازدحام>ازدحام</a></li><li><a href=#پویا-بودن>پویا بودن</a></li></ul></li><li><a href=#راه-حلی-برای-از-دست-دادن-بسته>راه حلی برای از دست دادن بسته</a><ul><li><a href=#acknowledgments>Acknowledgments</a></li><li><a href=#acknowledgment-های-انتخابی>Acknowledgment های انتخابی</a></li><li><a href=#acknowledgment-های-منفی>Acknowledgment های منفی</a></li><li><a href=#تصحیح-خطای-فوروارد>تصحیح خطای فوروارد</a></li></ul></li><li><a href=#حل-jitter>حل Jitter</a><ul><li><a href=#عملیات-jitterbuffer>عملیات JitterBuffer</a></li></ul></li><li><a href=#تشخیص-ازدحام>تشخیص ازدحام</a></li><li><a href=#حل-تراکم>حل تراکم</a><ul><li><a href=#ارسال-کندتر>ارسال کندتر</a></li><li><a href=#ارسال-کمتر>ارسال کمتر</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><div dir=rtl><h1 id=چرا-شبکه-در-ارتباطات-بلادرنگ-بسیار-مهم-است>چرا شبکه در ارتباطات بلادرنگ بسیار مهم است؟
<a class=anchor href=#%da%86%d8%b1%d8%a7-%d8%b4%d8%a8%da%a9%d9%87-%d8%af%d8%b1-%d8%a7%d8%b1%d8%aa%d8%a8%d8%a7%d8%b7%d8%a7%d8%aa-%d8%a8%d9%84%d8%a7%d8%af%d8%b1%d9%86%da%af-%d8%a8%d8%b3%db%8c%d8%a7%d8%b1-%d9%85%d9%87%d9%85-%d8%a7%d8%b3%d8%aa>#</a></h1><p>شبکه ها یکی از فاکتور های محدود کننده در ارتباطات بلادرنگ هستند. در دنیای ایده آل، پهنای باند نامحدودی خواهیم داشت
و بسته ها فوراً می رسند. هرچند اینطور نیست شبکه ها محدود هستند و شرایط
می تواند در هر زمان تغییر کند و اندازه گیری و مشاهده شرایط شبکه نیز در هر لحظه مشکل سختی است. شما می توانید رفتارهای مختلفی داشته باشید
بسته به سخت افزار، نرم افزار و پیکربندی آن.</p><p>ارتباط بلادرنگ نیز مشکلی را ایجاد می کند که در اکثر حوزه های دیگر وجود ندارد. برای یک توسعه دهنده وب چالش بزرگی نیست
اگر وب سایت شما در برخی از شبکه ها کندتر باشد. تا زمانی که همه داده ها به دست می آیند، کاربران خوشحال هستند. با WebRTC، اگر داده های شما دیر ارسال شوددیگر بی فایده است و هیچ کس به آنچه در یک کنفرانس تلفنی 5 ثانیه پیش گفته شد اهمیت نمی دهد. بنابراین هنگام توسعه یک سیستم ارتباطی بلادرنگ،
شما باید یک معامله انجام دهید و آن هم این است که از خود بپرسید محدودیت زمانی من چقدر است و چه مقدار داده می توانم ارسال کنم؟</p><p>این فصل مفاهیمی را پوشش می دهد که هم برای داده ها و هم برای ارتباطات رسانه ای کاربرد دارند. در فصل های بعدی فراتر می رویم
نظری و بحث در مورد اینکه چگونه رسانه ها و زیرسیستم های WebRTC این مشکلات را حل می کنند می پردازیم.</p><h2 id=ویژگی-های-شبکه-چیست-که-آن-را-دشوار-می-کند>ویژگی های شبکه چیست که آن را دشوار می کند؟
<a class=anchor href=#%d9%88%db%8c%da%98%da%af%db%8c-%d9%87%d8%a7%db%8c-%d8%b4%d8%a8%da%a9%d9%87-%da%86%db%8c%d8%b3%d8%aa-%da%a9%d9%87-%d8%a2%d9%86-%d8%b1%d8%a7-%d8%af%d8%b4%d9%88%d8%a7%d8%b1-%d9%85%db%8c-%da%a9%d9%86%d8%af>#</a></h2><p>کدی که به طور موثر در تمامی شبکه ها کار کند، بسیار پیچیده است. شما عوامل مختلف زیادی دارید، و همه آنها می توانند به طور ماهرانه روی یکدیگر تأثیر بگذارند. اینها رایج ترین مشکلاتی هستند که توسعه دهندگان با آن ها مواجه می شوند.</p><h4 id=پهنای-باند>پهنای باند
<a class=anchor href=#%d9%be%d9%87%d9%86%d8%a7%db%8c-%d8%a8%d8%a7%d9%86%d8%af>#</a></h4><p>پهنای باند حداکثر نرخ داده ای است که می تواند در یک مسیر مشخص منتقل شود. مهم است که به یاد داشته باشید
این هم یک عدد ثابت نیست پهنای باند در طول مسیر تغییر می کند زیرا افراد بیشتر (یا کمتر) از آن استفاده می کنند.</p><h4 id=زمان-انتقال-و-زمان-رفت-و-برگشت>زمان انتقال و زمان رفت و برگشت
<a class=anchor href=#%d8%b2%d9%85%d8%a7%d9%86-%d8%a7%d9%86%d8%aa%d9%82%d8%a7%d9%84-%d9%88-%d8%b2%d9%85%d8%a7%d9%86-%d8%b1%d9%81%d8%aa-%d9%88-%d8%a8%d8%b1%da%af%d8%b4%d8%aa>#</a></h4><p>زمان انتقال مدت زمانی است که طول می کشد تا یک بسته به مقصد برسد. همانند پهنای باند این ثابت نیست. زمان انتقال می تواند در هر زمان تغییر کند.</p><p>(<code>زمان_انتقال = زمان_دریافت - زمان_ارسال</code>) <code>transmission_time = receive_time - send_time</code></p><p>برای محاسبه زمان ارسال، به ساعت های فرستنده و گیرنده نیاز دارید که با دقت میلی ثانیه همگام سازی شده باشند.
حتی یک انحراف کوچک می تواند یک اندازه گیری زمان انتقال غیر قابل اعتماد ایجاد کند.
از آنجایی که WebRTC در محیط‌های بسیار ناهمگن عمل می‌کند، تکیه بر همگام‌سازی زمانی کامل بین میزبان‌ها تقریباً غیرممکن است.</p><p>اندازه گیری زمان رفت و برگشت راه حلی برای همگام سازی ناقص ساعت است.</p><p>به جای کار بر روی ساعت های توزیع شده، یک همتای WebRTC یک بسته ویژه با مهر زمانی خود <code>sendertime1</code> ارسال می کند.
همتای دیگر بسته را دریافت می کند و مهر زمانی را به فرستنده منعکس می کند.
هنگامی که فرستنده اصلی زمان منعکس شده را دریافت می کند، مهر زمانی <code>sendertime1</code> را از زمان فعلی <code>sendertime2</code> کم می کند.
این دلتای زمانی <code>تاخیر انتشار رفت و برگشت</code> یا معمولاً زمان رفت و برگشت نامیده می شود.</p><p><code>rtt = sendertime2 - sendertime1</code></p><p>نیمی از زمان رفت و برگشت به اندازه کافی تقریب خوبی را برای زمان انتقال، در نظر می گیرد.
این راه حل هم بدون اشکال نیست.
این فرض را ایجاد می کند که آیا ارسال و دریافت بسته ها زمان برابری را می برد.
اما در شبکه های سلولی، عملیات ارسال و دریافت ممکن است متقارن زمان نباشد.
شاید متوجه شده باشید که سرعت آپلود روی گوشی شما تقریباً همیشه کمتر از سرعت دانلود است.</p><p><code>transmission_time = rtt/2</code></p><p>نکات فنی اندازه گیری زمان رفت و برگشت با جزئیات بیشتر در <a href=../06-media-communication/#senderreceiver-reports>فصل گزارش های فرستنده و گیرنده RTCP</a> توضیح داده شده است.</p><h4 id=jitter>Jitter
<a class=anchor href=#jitter>#</a></h4><p>جیتر این واقعیت است که <code>زمان انتقال</code> ممکن است برای هر بسته متفاوت باشد. بسته های شما ممکن است به تعویق بیفتد، اما سپس به صورت رگباری می رسند.</p><h4 id=از-دست-دادن-بسته>از دست دادن بسته
<a class=anchor href=#%d8%a7%d8%b2-%d8%af%d8%b3%d8%aa-%d8%af%d8%a7%d8%af%d9%86-%d8%a8%d8%b3%d8%aa%d9%87>#</a></h4><p>Packet Loss زمانی است که پیام ها در انتقال گم می شوند. نرخ از دست رفتن می تواند ثابت باشد، یا ممکن است به صورت ناگهانی رخ دهد.
این ممکن است به دلیل نوع شبکه مانند ماهواره یا Wi-Fi باشد. یا ممکن است در طول مسیر توسط نرم افزار ایجاد شده باشد.</p><h4 id=حداکثر-واحد-انتقال>حداکثر واحد انتقال
<a class=anchor href=#%d8%ad%d8%af%d8%a7%da%a9%d8%ab%d8%b1-%d9%88%d8%a7%d8%ad%d8%af-%d8%a7%d9%86%d8%aa%d9%82%d8%a7%d9%84>#</a></h4><p>حداکثر واحد انتقال محدودیتی است که یک بسته واحد چقدر می تواند بزرگ باشد. اگر بسته شما بسیار بزرگ باشد، شبکه ها به شما اجازه ارسال نمی دهند
یک پیام غول پیکر در سطح پروتکل، ممکن است پیام ها به چندین بسته کوچکتر تقسیم شوند.</p><p>بسته به مسیر شبکه ای که انتخاب می کنید، MTU نیز متفاوت خواهد بود. می توانید
از پروتکلی مانند <a href=https://tools.ietf.org/html/rfc1191>Path MTU Discovery</a> استفاده کنید تا بزرگترین اندازه بسته ای را که می توانید ارسال کنید، تعیین کنید.</p><h3 id=ازدحام>ازدحام
<a class=anchor href=#%d8%a7%d8%b2%d8%af%d8%ad%d8%a7%d9%85>#</a></h3><p>ازدحام زمانی است که به محدودیت های شبکه رسیده باشد. این معمولاً به این دلیل است که شما به اوج رسیده اید
پهنای باندی که مسیر فعلی می تواند از عهده آن برآید. یا ممکن است اپراتور اعمال شود مانند محدودیت های ساعتی که ISP شما را پیکربندی می کند.</p><p>ازدحام به طرق مختلف خود را نشان می دهد و هیچ رفتار استانداردی وجود ندارد. در بیشتر موارد زمانی که ازدحام رخ می دهد،
شبکه بسته های اضافی را رها می کند. در موارد دیگر شبکه بافر خواهد شد. این باعث بالا رفتن زمان انتقال می شود
. همچنین می توانید با شلوغ شدن شبکه خود، لگ های بیشتری را مشاهده کنید. این مبحث به سرعت در حال تغییر است
و الگوریتم های جدید برای تشخیص تراکم هنوز در حال نوشتن هستند.</p><h3 id=پویا-بودن>پویا بودن
<a class=anchor href=#%d9%be%d9%88%db%8c%d8%a7-%d8%a8%d9%88%d8%af%d9%86>#</a></h3><p>شبکه ها فوق العاده پویا هستند و شرایط می توانند به سرعت تغییر کند. در طول یک تماس می توانید صدها هزار بسته ارسال و دریافت کنید.
این بسته‌ها از طریق چندین هاب منتقل خواهند شد. این هاب ها توسط میلیون ها کاربر دیگر به اشتراک گذاشته خواهد شد. حتی در شبکه محلی خود می توانید
فیلم‌های HD در حال دانلود داشته باشید یا شاید دستگاهی تصمیم به دانلود به‌روزرسانی نرم‌افزاری بگیرد.</p><p>داشتن یک تماس خوب به اندازه اندازه گیری شبکه در هنگام راه اندازی ساده نیست. باید مدام در حال ارزیابی باشید. شما همچنین نیاز دارید همه ی رفتار هایی که از نرم افرار و سخت افزار می آید را ارزیابی کنید.</p><h2 id=راه-حلی-برای-از-دست-دادن-بسته>راه حلی برای از دست دادن بسته
<a class=anchor href=#%d8%b1%d8%a7%d9%87-%d8%ad%d9%84%db%8c-%d8%a8%d8%b1%d8%a7%db%8c-%d8%a7%d8%b2-%d8%af%d8%b3%d8%aa-%d8%af%d8%a7%d8%af%d9%86-%d8%a8%d8%b3%d8%aa%d9%87>#</a></h2><p>مدیریت از دست دادن بسته اولین مشکلی است که باید حل شود. راه های مختلفی برای حل آن وجود دارد که هر کدام مزایای خاص خود را دارند. بسته به این که چه چیزی و یا چگونه ارسال می کنید
ممکن است متحمل تاخیر شوید همچنین مهم است که همه از دست دادن بسته ها چالش پذیر نیستند. از دست دادن برخی ویدیوها ممکن است مشکلی ایجاد نکند، ممکن است چشم انسان مشکلی نداشته باشد
حتی قادر به درک آن نباشد. از دست دادن پیام های متنی کاربران می ت.اند بسیار چالشی باشد است.</p><p>فرض کنید 10 بسته ارسال می کنید و بسته های 5 و 6 گم می شوند. در اینجا راه هایی وجود دارد که می توانید آن را حل کنید.</p><h3 id=acknowledgments>Acknowledgments
<a class=anchor href=#acknowledgments>#</a></h3><p>تصدیق زمانی است که گیرنده، فرستنده را از هر بسته ای که دریافت می کند مطلع می سازد. فرستنده زمانی از گم شدن بسته آگاه خواهد شد که
برای یک بسته دو بار تصدیق دریافت کند در حالی که بسته ها تمام نشده اند. هنگامی که فرستنده دو بار یک <code>ACK</code> برای بسته 4 دریافت می کند، می داند که بسته 5 هنوز نرسیده است.</p><h3 id=acknowledgment-های-انتخابی>Acknowledgment های انتخابی
<a class=anchor href=#acknowledgment-%d9%87%d8%a7%db%8c-%d8%a7%d9%86%d8%aa%d8%ae%d8%a7%d8%a8%db%8c>#</a></h3><p>تصدیق های انتخابی بهبودی از تصدیق است. یک گیرنده می تواند یک <code>SACK</code> ارسال کند که چندین بسته را تأیید می کند و به فرستنده از شکاف ها اطلاع می دهد.
اکنون فرستنده می تواند یک <code>SACK</code> برای بسته 4 و 7 دریافت کند. سپس می داند که باید بسته های 5 و 6 را دوباره ارسال کند.</p><h3 id=acknowledgment-های-منفی>Acknowledgment های منفی
<a class=anchor href=#acknowledgment-%d9%87%d8%a7%db%8c-%d9%85%d9%86%d9%81%db%8c>#</a></h3><p>قدردانی های منفی مشکل را برعکس حل می کند. گیرنده به جای اطلاع دادن به فرستنده که آنچه را دریافت کرده است، به فرستنده اطلاع می دهد که چه چیزی گم شده است. در مورد ما یک <code>NACK</code>
برای بسته های 5 و 6 ارسال می شود. فرستنده فقط بسته هایی را می داند که گیرنده می خواهد دوباره ارسال کند.</p><h3 id=تصحیح-خطای-فوروارد>تصحیح خطای فوروارد
<a class=anchor href=#%d8%aa%d8%b5%d8%ad%db%8c%d8%ad-%d8%ae%d8%b7%d8%a7%db%8c-%d9%81%d9%88%d8%b1%d9%88%d8%a7%d8%b1%d8%af>#</a></h3><p>Forward Error Correction به طور پیشگیرانه از دست دادن بسته را برطرف می کند. فرستنده داده های اضافی را ارسال می کند، به این معنی که یک بسته از دست رفته بر نتیجه نهایی تأثیر نمی گذارد. یکی از الگوریتم های محبوب برای
این تصحیح خطا <code>Reed-Solomon</code> است.</p><p>این امر تأخیر و پیچیدگی ارسال و رسیدگی به تصدیق ها را کاهش می دهد. اگر شبکه ای که در آن هستید صفر درصد هدر رفتن بسته داشته باشد، تصحیح خطای فوروارد اتلاف پهنای باند است.</p><h2 id=حل-jitter>حل Jitter
<a class=anchor href=#%d8%ad%d9%84-jitter>#</a></h2><p>جیتر در اکثر شبکه ها وجود دارد. حتی در داخل شبکه LAN، دستگاه‌های زیادی هستند که داده‌ها را با نرخ‌های متغیر ارسال می‌کنند. شما به راحتی می توانید با پینگ کردن دستگاه دیگری با فرمان <code>ping</code> و مشاهده نوسانات تأخیر رفت و برگشت و بالا و پایین شدن شبکه را مشاهده کنید.</p><p>برای حل جیتر، کلاینت ها از JitterBuffer استفاده می کنند. JitterBuffer زمان تحویل ثابت بسته ها را تضمین می کند. نکته منفی این است که JitterBuffer مقداری تاخیر به بسته هایی که زودتر می رسند اضافه می کند.
نکته مثبت این است که بسته‌های دیرهنگام باعث Jitter نمی‌شوند. تصور کنید که در طول یک تماس، زمان‌های رسیدن بسته زیر را مشاهده می‌کنید:</p><pre tabindex=0><code>* time=1.46 ms
* time=1.93 ms
* time=1.57 ms
* time=1.55 ms
* time=1.54 ms
* time=1.72 ms
* time=1.45 ms
* time=1.73 ms
* time=1.80 ms
</code></pre><p>در این مورد، حدود 1.8 میلی ثانیه انتخاب خوبی خواهد بود. بسته هایی که دیر می رسند از <code>پنجره تاخیر</code> استفاده می کنند. بسته‌هایی که زودتر می‌رسند کمی تأخیر خواهند داشت و می‌توانند
<code>پنجره تخلیه</code> شده توسط بسته های تاخیری را پر کنید. این به این معنی است که ما دیگر وقفه نداریم و نرخ تحویل آرامی را برای مشتری فراهم می کنیم.</p><h3 id=عملیات-jitterbuffer>عملیات JitterBuffer
<a class=anchor href=#%d8%b9%d9%85%d9%84%db%8c%d8%a7%d8%aa-jitterbuffer>#</a></h3><p><img src=../images/05-jitterbuffer.png alt=JitterBuffer title=JitterBuffer></p><p>هر بسته به محض دریافت به بافر jitter اضافه می شود.
هنگامی که بسته های کافی برای بازسازی قاب وجود دارد، بسته هایی که فریم را تشکیل می دهند از بافر آزاد می شوند و برای دیکود شدن منتشر می شوند.
دیکودر نیز به نوبه خود، فریم ویدیو را روی صفحه کاربر دیکود و ترسیم می کند.
از آنجایی که بافر جیتر ظرفیت محدودی دارد، بسته هایی که برای مدت طولانی در بافر می مانند، دور ریخته می شوند.</p><p>در مورد چگونگی تبدیل فریم های ویدئویی به بسته های RTP و چرایی نیاز به بازسازی <a href=../06-media-communication/#rtp>در فصل ارتباطات رسانه ای</a> بیشتر بخوانید.</p><p><code>jitterBufferDelay</code> بینشی عالی از عملکرد شبکه شما و تأثیر آن بر روان بودن پخش ارائه می دهد.
این بخشی از <a href=https://www.w3.org/TR/webrtc-stats/#dom-rtcinboundrtpstreamstats-jitterbufferdelay>WebRTC statistics API</a> مربوط به جریان ورودی گیرنده است.
تأخیر مقدار زمانی را که فریم‌های ویدیویی در بافر لرزاننده قبل از انتشار برای دیکود شدن می‌گذرد، را نشان می دهد.
تاخیر طولانی بافر جیتر به این معنی است که شبکه شما به شدت شلوغ است.</p><h2 id=تشخیص-ازدحام>تشخیص ازدحام
<a class=anchor href=#%d8%aa%d8%b4%d8%ae%db%8c%d8%b5-%d8%a7%d8%b2%d8%af%d8%ad%d8%a7%d9%85>#</a></h2><p>قبل از اینکه بتوانیم ازدحام را حل کنیم، باید آن را تشخیص دهیم. برای تشخیص آن از یک کنترل کننده ازدحام استفاده می کنیم. این موضوع پیچیده ای است و هنوز هم به سرعت در حال تغییر است.
الگوریتم های جدید هنوز در حال انتشار و آزمایش هستند. در سطح بالا، همه آنها یکسان عمل می کنند. یک کنترل کننده ازدحام با توجه به برخی ورودی ها، تخمین پهنای باند را ارائه می دهد.
اینها برخی از ورودی های ممکن هستند:</p><ul><li><strong>از دست دادن بسته</strong> - با شلوغ شدن شبکه، بسته ها حذف می شوند</li><li><strong>Jitter</strong> - تجهیزات شبکه باعث سرریز شدن بسته در صف می شدن که موجب می شود که زمان به بی نهایت میل کند.</li><li><strong>زمان رفت و برگشت</strong> - بسته ها در صورت شلوغی زمان بیشتر طول می کشد تا بسته به دستشان برسند. برخلاف جیتر، زمان رفت و برگشت همچنان افزایش می یابد.</li><li><strong>اعلان تراکم صریح</strong> - شبکه های جدیدتر ممکن است بسته ها را به عنوان در معرض خطر رها شدن برای کاهش ازدحام برچسب گذاری کنند.</li></ul><p>این مقادیر باید به طور مداوم در طول تماس اندازه گیری شوند. استفاده از شبکه ممکن است افزایش یا کاهش یابد، بنابراین پهنای باند موجود می تواند دائما در حال تغییر باشد.</p><h2 id=حل-تراکم>حل تراکم
<a class=anchor href=#%d8%ad%d9%84-%d8%aa%d8%b1%d8%a7%da%a9%d9%85>#</a></h2><p>اکنون که پهنای باند تخمینی داریم باید آنچه را که ارسال می کنیم تنظیم کنیم. نحوه تنظیم بستگی به نوع داده ای دارد که می خواهیم ارسال کنیم.</p><h3 id=ارسال-کندتر>ارسال کندتر
<a class=anchor href=#%d8%a7%d8%b1%d8%b3%d8%a7%d9%84-%da%a9%d9%86%d8%af%d8%aa%d8%b1>#</a></h3><p>محدود کردن سرعت ارسال داده ها اولین راه حل برای جلوگیری از ازدحام است. کنترل ازدحام به شما تخمینی می دهد، که مسئولیت فرستنده است که نرخ را محدود کند.</p><p>این روشی است که برای اکثر ارتباطات داده استفاده می شود. با پروتکل هایی مانند TCP همه اینها توسط سیستم عامل انجام می شود و برای کاربران و توسعه دهندگان کاملاً شفاف است.</p><h3 id=ارسال-کمتر>ارسال کمتر
<a class=anchor href=#%d8%a7%d8%b1%d8%b3%d8%a7%d9%84-%da%a9%d9%85%d8%aa%d8%b1>#</a></h3><p>در برخی موارد ما می توانیم اطلاعات کمتری برای برآورده کردن محدودیت های خود ارسال کنیم. ما همچنین ضرب الاجل های صفت و سختی برای رسیدن داده‌هایمان داریم، بنابراین نمی‌توانیم کندتر ارسال کنیم. اینها محدودیت هایی هستند
که رسانه بلادرنگ تحت تتاثیر آن قرار می گیرد.</p><p>اگر پهنای باند کافی در دسترس نداریم، می‌توانیم کیفیت ویدیویی را که ارسال می‌کنیم کاهش دهیم. این بستگی به دیکودر ویدیوی شما و کنترل کننده ازدحام شما دارد.</p></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/commit/ae53f624fa6319ae0ec3bd52bc4db2edc2892c39 title='آخرین بار ویرایش شده توسط Amin | مارس 11, 2022' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>مارس 11, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/edit/master/content/docs/05-real-time-networking.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>این صفحه را ویرایش کنید</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#ویژگی-های-شبکه-چیست-که-آن-را-دشوار-می-کند>ویژگی های شبکه چیست که آن را دشوار می کند؟</a><ul><li></li><li><a href=#ازدحام>ازدحام</a></li><li><a href=#پویا-بودن>پویا بودن</a></li></ul></li><li><a href=#راه-حلی-برای-از-دست-دادن-بسته>راه حلی برای از دست دادن بسته</a><ul><li><a href=#acknowledgments>Acknowledgments</a></li><li><a href=#acknowledgment-های-انتخابی>Acknowledgment های انتخابی</a></li><li><a href=#acknowledgment-های-منفی>Acknowledgment های منفی</a></li><li><a href=#تصحیح-خطای-فوروارد>تصحیح خطای فوروارد</a></li></ul></li><li><a href=#حل-jitter>حل Jitter</a><ul><li><a href=#عملیات-jitterbuffer>عملیات JitterBuffer</a></li></ul></li><li><a href=#تشخیص-ازدحام>تشخیص ازدحام</a></li><li><a href=#حل-تراکم>حل تراکم</a><ul><li><a href=#ارسال-کندتر>ارسال کندتر</a></li><li><a href=#ارسال-کمتر>ارسال کمتر</a></li></ul></li></ul></nav></div></aside></main></body></html>