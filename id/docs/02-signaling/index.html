<!doctype html><html lang=id dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Signaling # What is WebRTC Signaling? # When you create a WebRTC agent, it knows nothing about the other peer. It has no idea who it is going to connect with or what they are going to send! Signaling is the initial bootstrapping that makes a call possible. After these values are exchanged, the WebRTC agents can communicate directly with each other.
Signaling messages are just text. The WebRTC agents don&rsquo;t care how they are transported."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://webrtcforthecurious.com/id/docs/02-signaling/"><meta property="og:site_name" content="WebRTC untuk yang Ingin Tahu"><meta property="og:title" content="Signaling"><meta property="og:description" content="Signaling # What is WebRTC Signaling? # When you create a WebRTC agent, it knows nothing about the other peer. It has no idea who it is going to connect with or what they are going to send! Signaling is the initial bootstrapping that makes a call possible. After these values are exchanged, the WebRTC agents can communicate directly with each other.
Signaling messages are just text. The WebRTC agents don’t care how they are transported."><meta property="og:locale" content="id"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-28T16:18:24+07:00"><title>Signaling | WebRTC untuk yang Ingin Tahu</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=canonical href=https://webrtcforthecurious.com/id/docs/02-signaling/><link rel=alternate hreflang=en href=https://webrtcforthecurious.com/docs/02-signaling/ title=Signaling><link rel=alternate hreflang=sv href=https://webrtcforthecurious.com/sv/docs/02-signaling/ title=Signalering><link rel=alternate hreflang=ru href=https://webrtcforthecurious.com/ru/docs/02-signaling/ title=Signaling><link rel=alternate hreflang=zh href=https://webrtcforthecurious.com/zh/docs/02-signaling/ title=信令><link rel=alternate hreflang=ja href=https://webrtcforthecurious.com/ja/docs/02-signaling/ title=シグナリング><link rel=alternate hreflang=fa href=https://webrtcforthecurious.com/fa/docs/02-signaling/ title=سیگنالینگ><link rel=alternate hreflang=fr href=https://webrtcforthecurious.com/fr/docs/02-signaling/ title=Signaling><link rel=alternate hreflang=es href=https://webrtcforthecurious.com/es/docs/02-signaling/ title=Signaling><link rel=alternate hreflang=tr href=https://webrtcforthecurious.com/tr/docs/02-signaling/ title=Sinyalleşme><link rel=alternate hreflang=ko href=https://webrtcforthecurious.com/ko/docs/02-signaling/ title=시그널링><link rel=stylesheet href=/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/id.search.min.bcf288a85eb63814a9f9da0581f87256b1e7f3d721d7aa2068b8bcebc355f566.js integrity="sha256-vPKIqF62OBSp+doFgfhyVrHn89ch16ogaLi868NV9WY=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/id/><span>WebRTC untuk yang Ingin Tahu</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
Bahasa Indonesia</a></label><ul><li><a href=https://webrtcforthecurious.com/docs/02-signaling/>English</a></li><li><a href=https://webrtcforthecurious.com/ru/docs/02-signaling/>Русский</a></li><li><a href=https://webrtcforthecurious.com/sv/docs/02-signaling/>Svenska</a></li><li><a href=https://webrtcforthecurious.com/zh/docs/02-signaling/>简体中文</a></li><li><a href=https://webrtcforthecurious.com/ja/docs/02-signaling/>日本語</a></li><li><a href=https://webrtcforthecurious.com/fa/docs/02-signaling/>Persian</a></li><li><a href=https://webrtcforthecurious.com/fr/docs/02-signaling/>Français</a></li><li><a href=https://webrtcforthecurious.com/es/docs/02-signaling/>Español</a></li><li><a href=https://webrtcforthecurious.com/tr/docs/02-signaling/>Türkçe</a></li><li><a href=https://webrtcforthecurious.com/ko/docs/02-signaling/>한국어</a></li></ul></li></ul><ul><li><a href=/id/docs/01-what-why-and-how/>Apa, Mengapa, dan Bagaimana</a></li><li><a href=/id/docs/02-signaling/ class=active>Signaling</a></li><li><a href=/id/docs/03-connecting/>Connecting</a></li><li><a href=/id/docs/04-securing/>Securing</a></li><li><a href=/id/docs/05-real-time-networking/>Real-time Networking</a></li><li><a href=/id/docs/06-media-communication/>Media Communication</a></li><li><a href=/id/docs/07-data-communication/>Data Communication</a></li><li><a href=/id/docs/08-applied-webrtc/>Applied WebRTC</a></li><li><a href=/id/docs/09-debugging/>Debugging</a></li><li><a href=/id/docs/10-history-of-webrtc/>History</a></li><li><a href=/id/docs/11-faq/>FAQ</a></li><li><a href=/id/docs/12-glossary/>Glossary</a></li><li><a href=/id/docs/13-reference/>Reference</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Signaling</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#what-is-webrtc-signaling>What is WebRTC Signaling?</a></li><li><a href=#how-does-webrtc-signaling-work>How does WebRTC signaling work?</a></li><li><a href=#what-is-the-session-description-protocol-sdp>What is the <em>Session Description Protocol</em> (SDP)?</a><ul><li><a href=#how-to-read-the-sdp>How to read the SDP</a></li><li><a href=#webrtc-only-uses-some-sdp-keys>WebRTC only uses some SDP keys</a></li><li><a href=#media-descriptions-in-a-session-description>Media Descriptions in a Session Description</a></li><li><a href=#full-example>Full Example</a></li></ul></li><li><a href=#how-session-description-protocol-and-webrtc-work-together>How <em>Session Description Protocol</em> and WebRTC work together</a><ul><li><a href=#what-are-offers-and-answers>What are Offers and Answers?</a></li><li><a href=#transceivers-are-for-sending-and-receiving>Transceivers are for sending and receiving</a></li><li><a href=#sdp-values-used-by-webrtc>SDP Values used by WebRTC</a></li><li><a href=#example-of-a-webrtc-session-description>Example of a WebRTC Session Description</a></li><li><a href=#further-topics>Further Topics</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=signaling>Signaling
<a class=anchor href=#signaling>#</a></h1><h2 id=what-is-webrtc-signaling>What is WebRTC Signaling?
<a class=anchor href=#what-is-webrtc-signaling>#</a></h2><p>When you create a WebRTC agent, it knows nothing about the other peer. It has no idea who it is going to connect with or what they are going to send!
Signaling is the initial bootstrapping that makes a call possible. After these values are exchanged, the WebRTC agents can communicate directly with each other.</p><p>Signaling messages are just text. The WebRTC agents don&rsquo;t care how they are transported. They are commonly shared via Websockets, but that is not a requirement.</p><h2 id=how-does-webrtc-signaling-work>How does WebRTC signaling work?
<a class=anchor href=#how-does-webrtc-signaling-work>#</a></h2><p>WebRTC uses an existing protocol called the Session Description Protocol. Via this protocol, the two WebRTC Agents will share all the state required to establish a connection. The protocol itself is simple to read and understand.
The complexity comes from understanding all the values that WebRTC populates it with.</p><p>This protocol is not specific to WebRTC. We will learn the Session Description Protocol first without even talking about WebRTC. WebRTC only really takes advantage of a subset of the protocol, so we are only going to cover what we need.
After we understand the protocol, we will move on to its applied usage in WebRTC.</p><h2 id=what-is-the-session-description-protocol-sdp>What is the <em>Session Description Protocol</em> (SDP)?
<a class=anchor href=#what-is-the-session-description-protocol-sdp>#</a></h2><p>The Session Description Protocol is defined in <a href=https://tools.ietf.org/html/rfc8866>RFC 8866</a>. It is a key/value protocol with a newline after each value. It will feel similar to an INI file.
A Session Description contains zero or more Media Descriptions. Mentally you can model it as a Session Description that contains an array of Media Descriptions.</p><p>A Media Description usually maps to a single stream of media. So if you wanted to describe a call with three video streams and two audio tracks you would have five Media Descriptions.</p><h3 id=how-to-read-the-sdp>How to read the SDP
<a class=anchor href=#how-to-read-the-sdp>#</a></h3><p>Every line in a Session Description will start with a single character, this is your key. It will then be followed by an equal sign. Everything after that equal sign is the value. After the value is complete, you will have a newline.</p><p>The Session Description Protocol defines all the keys that are valid. You can only use letters for keys as defined in the protocol. These keys all have significant meaning, which will be explained later.</p><p>Take this Session Description excerpt:</p><pre tabindex=0><code>a=my-sdp-value
a=second-value
</code></pre><p>You have two lines. Each with the key <code>a</code>. The first line has the value <code>my-sdp-value</code>, the second line has the value <code>second-value</code>.</p><h3 id=webrtc-only-uses-some-sdp-keys>WebRTC only uses some SDP keys
<a class=anchor href=#webrtc-only-uses-some-sdp-keys>#</a></h3><p>Not all key values defined by the Session Description Protocol are used by WebRTC. Only keys used in the JavaScript Session Establishment Protocol (JSEP), defined in <a href=https://datatracker.ietf.org/doc/html/rfc8829>RFC 8829</a>, are important. The following seven keys are the only ones you need to understand right now:</p><ul><li><code>v</code> - Version, should be equal to <code>0</code>.</li><li><code>o</code> - Origin, contains a unique ID useful for renegotiations.</li><li><code>s</code> - Session Name, should be equal to <code>-</code>.</li><li><code>t</code> - Timing, should be equal to <code>0 0</code>.</li><li><code>m</code> - Media Description (<code>m=&lt;media> &lt;port> &lt;proto> &lt;fmt> ...</code>), described in detail below.</li><li><code>a</code> - Attribute, a free text field. This is the most common line in WebRTC.</li><li><code>c</code> - Connection Data, should be equal to <code>IN IP4 0.0.0.0</code>.</li></ul><h3 id=media-descriptions-in-a-session-description>Media Descriptions in a Session Description
<a class=anchor href=#media-descriptions-in-a-session-description>#</a></h3><p>A Session Description can contain an unlimited number of Media Descriptions.</p><p>A Media Description definition contains a list of formats. These formats map to RTP Payload Types. The actual codec is then defined by an Attribute with the value <code>rtpmap</code> in the Media Description.
The importance of RTP and RTP Payload Types is discussed later in the Media chapter. Each Media Description can contain an unlimited number of attributes.</p><p>Take this Session Description excerpt as an example:</p><pre tabindex=0><code>v=0
m=audio 4000 RTP/AVP 111
a=rtpmap:111 OPUS/48000/2
m=video 4000 RTP/AVP 96
a=rtpmap:96 VP8/90000
a=my-sdp-value
</code></pre><p>You have two Media Descriptions, one of type audio with fmt <code>111</code> and one of type video with the format <code>96</code>. The first Media Description has only one attribute. This attribute maps the Payload Type <code>111</code> to Opus.
The second Media Description has two attributes. The first attribute maps the Payload Type <code>96</code> to be VP8, and the second attribute is just <code>my-sdp-value</code>.</p><h3 id=full-example>Full Example
<a class=anchor href=#full-example>#</a></h3><p>The following brings all the concepts we have talked about together. These are all the features of the Session Description Protocol that WebRTC uses.
If you can read this, you can read any WebRTC Session Description!</p><pre tabindex=0><code>v=0
o=- 0 0 IN IP4 127.0.0.1
s=-
c=IN IP4 127.0.0.1
t=0 0
m=audio 4000 RTP/AVP 111
a=rtpmap:111 OPUS/48000/2
m=video 4002 RTP/AVP 96
a=rtpmap:96 VP8/90000
</code></pre><ul><li><code>v</code>, <code>o</code>, <code>s</code>, <code>c</code>, <code>t</code> are defined, but they do not affect the WebRTC session.</li><li>You have two Media Descriptions. One of type <code>audio</code> and one of type <code>video</code>.</li><li>Each of those has one attribute. This attribute configures details of the RTP pipeline, which is discussed in the &ldquo;Media Communication&rdquo; chapter.</li></ul><h2 id=how-session-description-protocol-and-webrtc-work-together>How <em>Session Description Protocol</em> and WebRTC work together
<a class=anchor href=#how-session-description-protocol-and-webrtc-work-together>#</a></h2><p>The next piece of the puzzle is understanding <em>how</em> WebRTC uses the Session Description Protocol.</p><h3 id=what-are-offers-and-answers>What are Offers and Answers?
<a class=anchor href=#what-are-offers-and-answers>#</a></h3><p>WebRTC uses an offer/answer model. All this means is that one WebRTC Agent makes an &ldquo;Offer&rdquo; to start a call, and the other WebRTC Agents &ldquo;Answers&rdquo; if it is willing to accept what has been offered.</p><p>This gives the answerer a chance to reject unsupported codecs in the Media Descriptions. This is how two peers can understand what formats they are willing to exchange.</p><h3 id=transceivers-are-for-sending-and-receiving>Transceivers are for sending and receiving
<a class=anchor href=#transceivers-are-for-sending-and-receiving>#</a></h3><p>Transceivers is a WebRTC specific concept that you will see in the API. What it is doing is exposing the &ldquo;Media Description&rdquo; to the JavaScript API. Each Media Description becomes a Transceiver.
Every time you create a Transceiver a new Media Description is added to the local Session Description.</p><p>Each Media Description in WebRTC will have a direction attribute. This allows a WebRTC Agent to declare &ldquo;I am going to send you this codec, but I am not willing to accept anything back&rdquo;. There are four valid values:</p><ul><li><code>send</code></li><li><code>recv</code></li><li><code>sendrecv</code></li><li><code>inactive</code></li></ul><h3 id=sdp-values-used-by-webrtc>SDP Values used by WebRTC
<a class=anchor href=#sdp-values-used-by-webrtc>#</a></h3><p>This is a list of some common attributes that you will see in a Session Description from a WebRTC Agent. Many of these values control the subsystems that we haven&rsquo;t discussed yet.</p><h4 id=groupbundle><code>group:BUNDLE</code>
<a class=anchor href=#groupbundle>#</a></h4><p>Bundling is an act of running multiple types of traffic over one connection. Some WebRTC implementations use a dedicated connection per media stream. Bundling should be preferred.</p><h4 id=fingerprintsha-256><code>fingerprint:sha-256</code>
<a class=anchor href=#fingerprintsha-256>#</a></h4><p>This is a hash of the certificate a peer is using for DTLS. After the DTLS handshake is completed, you compare this to the actual certificate to confirm you are communicating with whom you expect.</p><h4 id=setup><code>setup:</code>
<a class=anchor href=#setup>#</a></h4><p>This controls the DTLS Agent behavior. This determines if it runs as a client or server after ICE has connected. The possible values are:</p><ul><li><code>setup:active</code> - Run as DTLS Client.</li><li><code>setup:passive</code> - Run as DTLS Server.</li><li><code>setup:actpass</code> - Ask the other WebRTC Agent to choose.</li></ul><h4 id=mid><code>mid</code>
<a class=anchor href=#mid>#</a></h4><p>The &ldquo;mid&rdquo; attribute is used for identifying media streams within a session description.</p><h4 id=ice-ufrag><code>ice-ufrag</code>
<a class=anchor href=#ice-ufrag>#</a></h4><p>This is the user fragment value for the ICE Agent. Used for the authentication of ICE Traffic.</p><h4 id=ice-pwd><code>ice-pwd</code>
<a class=anchor href=#ice-pwd>#</a></h4><p>This is the password for the ICE Agent. Used for authentication of ICE Traffic.</p><h4 id=rtpmap><code>rtpmap</code>
<a class=anchor href=#rtpmap>#</a></h4><p>This value is used to map a specific codec to an RTP Payload Type. Payload types are not static, so for every call the offerer decides the payload types for each codec.</p><h4 id=fmtp><code>fmtp</code>
<a class=anchor href=#fmtp>#</a></h4><p>Defines additional values for one Payload Type. This is useful to communicate a specific video profile or encoder setting.</p><h4 id=candidate><code>candidate</code>
<a class=anchor href=#candidate>#</a></h4><p>This is an ICE Candidate that comes from the ICE Agent. This is one possible address that the WebRTC Agent is available on. These are fully explained in the next chapter.</p><h4 id=ssrc><code>ssrc</code>
<a class=anchor href=#ssrc>#</a></h4><p>A Synchronization Source (SSRC) defines a single media stream track.</p><p><code>label</code> is the ID for this individual stream. <code>mslabel</code> is the ID for a container that can have multiple streams inside it.</p><h3 id=example-of-a-webrtc-session-description>Example of a WebRTC Session Description
<a class=anchor href=#example-of-a-webrtc-session-description>#</a></h3><p>The following is a complete Session Description generated by a WebRTC Client:</p><pre tabindex=0><code>v=0
o=- 3546004397921447048 1596742744 IN IP4 0.0.0.0
s=-
t=0 0
a=fingerprint:sha-256 0F:74:31:25:CB:A2:13:EC:28:6F:6D:2C:61:FF:5D:C2:BC:B9:DB:3D:98:14:8D:1A:BB:EA:33:0C:A4:60:A8:8E
a=group:BUNDLE 0 1
m=audio 9 UDP/TLS/RTP/SAVPF 111
c=IN IP4 0.0.0.0
a=setup:active
a=mid:0
a=ice-ufrag:CsxzEWmoKpJyscFj
a=ice-pwd:mktpbhgREmjEwUFSIJyPINPUhgDqJlSd
a=rtcp-mux
a=rtcp-rsize
a=rtpmap:111 opus/48000/2
a=fmtp:111 minptime=10;useinbandfec=1
a=ssrc:350842737 cname:yvKPspsHcYcwGFTw
a=ssrc:350842737 msid:yvKPspsHcYcwGFTw DfQnKjQQuwceLFdV
a=ssrc:350842737 mslabel:yvKPspsHcYcwGFTw
a=ssrc:350842737 label:DfQnKjQQuwceLFdV
a=msid:yvKPspsHcYcwGFTw DfQnKjQQuwceLFdV
a=sendrecv
a=candidate:foundation 1 udp 2130706431 192.168.1.1 53165 typ host generation 0
a=candidate:foundation 2 udp 2130706431 192.168.1.1 53165 typ host generation 0
a=candidate:foundation 1 udp 1694498815 1.2.3.4 57336 typ srflx raddr 0.0.0.0 rport 57336 generation 0
a=candidate:foundation 2 udp 1694498815 1.2.3.4 57336 typ srflx raddr 0.0.0.0 rport 57336 generation 0
a=end-of-candidates
m=video 9 UDP/TLS/RTP/SAVPF 96
c=IN IP4 0.0.0.0
a=setup:active
a=mid:1
a=ice-ufrag:CsxzEWmoKpJyscFj
a=ice-pwd:mktpbhgREmjEwUFSIJyPINPUhgDqJlSd
a=rtcp-mux
a=rtcp-rsize
a=rtpmap:96 VP8/90000
a=ssrc:2180035812 cname:XHbOTNRFnLtesHwJ
a=ssrc:2180035812 msid:XHbOTNRFnLtesHwJ JgtwEhBWNEiOnhuW
a=ssrc:2180035812 mslabel:XHbOTNRFnLtesHwJ
a=ssrc:2180035812 label:JgtwEhBWNEiOnhuW
a=msid:XHbOTNRFnLtesHwJ JgtwEhBWNEiOnhuW
a=sendrecv
</code></pre><p>This is what we know from this message:</p><ul><li>We have two media sections, one audio and one video.</li><li>Both of them are <code>sendrecv</code> transceivers. We are getting two streams, and we can send two back.</li><li>We have ICE Candidates and Authentication details, so we can attempt to connect.</li><li>We have a certificate fingerprint, so we can have a secure call.</li></ul><h3 id=further-topics>Further Topics
<a class=anchor href=#further-topics>#</a></h3><p>In later versions of this book, the following topics will also be addressed:</p><ul><li>Renegotiation</li><li>Simulcast</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/commit/5d7151e4648c7be02606e6028d42fc5bc31ee181 title='Last modified by Fitra Aditya | Juni 28, 2022' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>Juni 28, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/edit/master/content/docs/02-signaling.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#what-is-webrtc-signaling>What is WebRTC Signaling?</a></li><li><a href=#how-does-webrtc-signaling-work>How does WebRTC signaling work?</a></li><li><a href=#what-is-the-session-description-protocol-sdp>What is the <em>Session Description Protocol</em> (SDP)?</a><ul><li><a href=#how-to-read-the-sdp>How to read the SDP</a></li><li><a href=#webrtc-only-uses-some-sdp-keys>WebRTC only uses some SDP keys</a></li><li><a href=#media-descriptions-in-a-session-description>Media Descriptions in a Session Description</a></li><li><a href=#full-example>Full Example</a></li></ul></li><li><a href=#how-session-description-protocol-and-webrtc-work-together>How <em>Session Description Protocol</em> and WebRTC work together</a><ul><li><a href=#what-are-offers-and-answers>What are Offers and Answers?</a></li><li><a href=#transceivers-are-for-sending-and-receiving>Transceivers are for sending and receiving</a></li><li><a href=#sdp-values-used-by-webrtc>SDP Values used by WebRTC</a></li><li><a href=#example-of-a-webrtc-session-description>Example of a WebRTC Session Description</a></li><li><a href=#further-topics>Further Topics</a></li></ul></li></ul></nav></div></aside></main></body></html>